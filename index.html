<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>Lucky Spin</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
/* -------- –±–∞–∑–æ–≤—ã–π —Ñ–æ–Ω / —Ç–µ–∫—Å—Ç -------- */
html,body{height:100%;margin:0;font-family:Roboto,sans-serif}
body{
  display:flex;flex-direction:column;align-items:center;justify-content:flex-start;
  gap:18px;padding:16px;
  background:#11082b;color:#eee;overflow-x:hidden;
  background-image:
     radial-gradient(circle at 50% 30%,rgba(255,255,255,.05) 0%,transparent 60%),
     radial-gradient(circle at 50% 130%,rgba(255,0,140,.25) 0%,transparent 60%);
}
h3{font-size:24px;font-weight:700;margin:0;text-shadow:0 0 10px #fff}
@media (max-width:420px){h3{font-size:20px}}

/* -------- –ø–∞–Ω–µ–ª—å / –∫–∞—Ä—Ç–∞ -------- */
.panel{
  background:rgba(255,255,255,.04);backdrop-filter:blur(3px);
  border:1px solid rgba(255,255,255,.06);border-radius:16px;
  padding:20px;box-shadow:0 0 18px #000a,0 0 30px #0005 inset;
  max-width:340px;width:100%;
}
@media (max-width:420px){.panel{padding:16px}}

/* -------- —Å–µ–ª–µ–∫—Ç–æ—Ä –∏–≥—Ä—ã -------- */
#gameSelect{
  width:100%;appearance:none;cursor:pointer;
  font-size:16px;font-weight:700;color:#ffea00;
  background:#190f3d;border:2px solid #ffea00;border-radius:12px;
  padding:10px 14px;
  box-shadow:0 0 10px #ffea00,0 0 12px #fbc02d inset;
}

/* -------- –∫–Ω–æ–ø–∫–∏ -------- */
.btn{
  display:flex;justify-content:center;align-items:center;
  background:#d400ff;border:none;border-radius:50px;
  padding:14px 0;font-size:18px;font-weight:700;color:#fff;
  width:100%;max-width:340px;cursor:pointer;
  box-shadow:0 0 10px #d400ff,0 0 18px #d400ff inset;
  transition:transform .1s;
}
.btn:active{transform:scale(.97)}
@media (max-width:420px){.btn{font-size:16px;padding:12px 0}}

/* -------- —Å—Ç–∞–≤–∫–∏ / –±–∞–ª–∞–Ω—Å -------- */
#infoWrap{max-width:340px;width:100%;display:flex;flex-wrap:wrap;gap:10px;justify-content:space-between}
#balance,#stakeWrap{font-size:16px;color:#ffea00;text-shadow:0 0 6px #ffea00}
.stakeBox{display:inline-flex;align-items:center;border:2px solid #ffea00;border-radius:10px;background:#190f3d}
#stakeInput{width:56px;padding:6px 0;font-size:16px;text-align:center;background:none;border:none;color:#ffea00;outline:none}
.stakeBtn{width:34px;height:34px;display:flex;align-items:center;justify-content:center;font-weight:700;background:#ffea00;color:#190f3d;cursor:pointer}
.stakeBtn:active{filter:brightness(.9)}

/* -------- –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–≥—Ä -------- */
.game{display:none;flex-direction:column;align-items:center;gap:16px;width:100%}
.game.active{display:flex}

/* ---------- Wheel ---------- */
#canvas{background:#000;border-radius:50%;box-shadow:0 0 22px #ffea00 inset,0 0 26px #d400ff;width:280px;height:280px}
.pointer{position:absolute;left:50%;top:-16px;transform:translateX(-50%);
         width:0;height:0;border-left:12px solid transparent;border-right:12px solid transparent;border-top:24px solid #ffea00;
         filter:drop-shadow(0 0 6px #ffea00);}

/* ---------- Apple ---------- */
#appleField{display:grid;grid-template-columns:repeat(5,52px);gap:8px}
.cell{
  position:relative;
  width:52px;height:52px;
  border-radius:12px;
  background:#190f3d;
  box-shadow:0 0 3px #ffea00 inset;
  cursor:pointer;
}
.cell.open{cursor:default}

/* —Å–∞–º —ç–º–æ–¥–∑–∏ */
.cell span{
  position:absolute;           /* —Ü–µ–Ω—Ç—Ä—É–µ–º –≤ —è—á–µ–π–∫–µ */
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  font-size:34px;
  line-height:1;               /* —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–π ‚Äú–ø–æ–¥–≤–∞–ª‚Äù */
  pointer-events:none;         /* —á—Ç–æ–±—ã –∫–ª–∏–∫–∏ —à–ª–∏ –ø–æ .cell */
}
#bombPick{appearance:none;background:#190f3d;border:2px solid #ffea00;border-radius:10px;color:#ffea00;font-weight:700;padding:4px 8px;margin-left:6px;cursor:pointer}

/* ---------- Crash ---------- */
#crashScreen{font-size:40px;font-weight:700;color:#ffea00;text-shadow:0 0 12px #ffea00}

/* ---------- –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª–µ ---------- */
.blocked .cell{pointer-events:none;opacity:.45}
</style>
</head>
<body>

<h3>‚ú® Lucky Spin ‚ú®</h3>

<select id="gameSelect" class="panel">
  <option value="wheel">üé° –ö–æ–ª–µ—Å–æ</option>
  <option value="apple">üçè Apple of Fortune</option>
  <option value="crash">üöÄ Crash</option>
</select>

<!-- Wheel -->
<div id="wheelGame" class="game active panel">
  <div style="position:relative"><canvas id="canvas" width="280" height="280"></canvas><div class="pointer"></div></div>
</div>

<!-- Apple -->
<div id="appleGame" class="game panel">
  <div>–ß–µ—Ä–≤—è–∫–∏: <select id="bombPick"></select></div>
  <div id="appleField"></div>
  <button id="appleCashBtn" class="btn" style="display:none">–ó–∞–±—Ä–∞—Ç—å √ó1.00</button>
</div>

<!-- Crash -->
<div id="crashGame" class="game panel">
  <div id="crashScreen">x1.00</div>
  <button id="crashCashBtn" class="btn" style="display:none">–ó–∞–±—Ä–∞—Ç—å</button>
</div>

<!-- –±–∞–ª–∞–Ω—Å / —Å—Ç–∞–≤–∫–∞ -->
<div id="infoWrap">
  <div id="balance">–ë–∞–ª–∞–Ω—Å: ‚Ä¶ ü™ô</div>
  <div id="stakeWrap">–°—Ç–∞–≤–∫–∞:
    <span class="stakeBox">
      <input id="stakeInput" value="1">
    </span> ü™ô
  </div>
  <div id="stakeOps" style="display:flex;gap:6px;margin-top:10px">
    <button class="stakeBtn" id="stakeMin" style="flex:1">min</button>
    <button class="stakeBtn" id="stakeDiv2" style="flex:1">¬Ω</button>
    <button class="stakeBtn" id="stakeSub1" style="flex:1">‚àí1</button>
    <button class="stakeBtn" id="stakeAdd1" style="flex:1">+1</button>
    <button class="stakeBtn" id="stakeMul2" style="flex:1">√ó2</button>
    <button class="stakeBtn" id="stakeMax" style="flex:1">max</button>
  </div>
</div>

<button id="actionBtn" class="btn">–ò–≥—Ä–∞—Ç—å!</button>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="gsap.min.js"></script>
<script src="winwheel.min.js"></script>
<script src="app.js?v=16"></script>
</body>
</html>
